<mat-list class="user-list">
  <ng-container *ngFor="let u of users">
    <mat-list-item>
      <mat-icon mat-list-icon *ngIf="u.roles.indexOf('admin') > -1">face</mat-icon>
      <mat-icon mat-list-icon *ngIf="u.roles.indexOf('admin') < 0 && u.roles.indexOf('trusted') > -1">account_circle</mat-icon>
      <mat-icon mat-list-icon *ngIf="u.roles.indexOf('admin') < 0 && u.roles.indexOf('trusted') < 0 && u.roles.indexOf('verified') > -1">account_box</mat-icon>
      <mat-icon mat-list-icon *ngIf="u.roles.indexOf('admin') < 0 && u.roles.indexOf('trusted') < 0 && u.roles.indexOf('verified') < 0">assignment_ind</mat-icon>
      <h4 mat-line>{{u.username}} ({{u.email}})</h4>
      <p mat-line> {{u.createdAt}} </p>

      <mat-checkbox [checked]="u.roles.indexOf('verified') > -1" (click)="toggleRole(u.email, 'verified')" [disabled]="true"> Verified </mat-checkbox>
      <mat-checkbox [checked]="u.roles.indexOf('trusted') > -1" (click)="toggleRole(u.email, 'trusted')"> Trusted </mat-checkbox>
      <mat-checkbox [checked]="u.roles.indexOf('admin') > -1" (click)="toggleRole(u.email, 'admin')"> Admin </mat-checkbox>
      <button mat-raised-button color="warn" (click)="promptDelete(u.email)" [disabled]="u.roles.indexOf('system') > -1">Delete</button>
    </mat-list-item>
  </ng-container>
